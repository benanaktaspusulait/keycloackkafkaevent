# Kafka configuration
kafka.bootstrap.servers=redpanda:29092

# Database configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://postgres:5432/keycloak_events
quarkus.hibernate-orm.database.generation=update
quarkus.transaction-manager.enable-recovery=true

# gRPC configuration
quarkus.grpc.server.port=9000

# Logging configuration
quarkus.log.level=DEBUG
quarkus.log.category."com.smartface".level=DEBUG
quarkus.log.category."org.apache.kafka".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging".level=DEBUG
quarkus.log.category."org.apache.kafka.clients.consumer".level=DEBUG
quarkus.log.category."org.apache.kafka.clients.producer".level=DEBUG
quarkus.log.category."org.apache.kafka.common.utils".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.kafka".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.providers".level=DEBUG

# Additional logging configuration
quarkus.log.category."org.apache.kafka.clients.consumer.internals".level=DEBUG
quarkus.log.category."org.apache.kafka.clients.NetworkClient".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.kafka.impl".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.kafka.commit".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.kafka.fault".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging.kafka.health".level=DEBUG

# HTTP configuration
quarkus.http.port=8080
quarkus.http.cors=true

# Kafka configuration
quarkus.kafka.devservices.enabled=false

# ByteBuddy configuration
quarkus.jvm.args=-Dnet.bytebuddy.experimental=true

# SmallRye Reactive Messaging configuration
mp.messaging.incoming.keycloak_events.connector=smallrye-kafka
mp.messaging.incoming.keycloak_events.topic=keycloak_events
mp.messaging.incoming.keycloak_events.bootstrap.servers=${kafka.bootstrap.servers}
mp.messaging.incoming.keycloak_events.group.id=keycloak-event-service
mp.messaging.incoming.keycloak_events.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.keycloak_events.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.keycloak_events.auto.offset.reset=earliest
mp.messaging.incoming.keycloak_events.enable.auto.commit=true
mp.messaging.incoming.keycloak_events.broadcast=true
mp.messaging.incoming.keycloak_events.retry=true
mp.messaging.incoming.keycloak_events.retry.attempts=10
mp.messaging.incoming.keycloak_events.retry.max-wait=1000
mp.messaging.incoming.keycloak_events.health.enabled=true
mp.messaging.incoming.keycloak_events.health.readiness.enabled=true
mp.messaging.incoming.keycloak_events.health.readiness.timeout=30s